<!DOCTYPE html>
<html>
<head>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
#TBShow {
td {border-bottom: 2px solid green;}
}
#TDShow {
td {border-bottom: 2px solid green;background-color: #87CEEB;}
}
</style>
</head>
<body id="MyBody" style="width: 400px;" onload="ScreenWidth();">
<br>
<table width="98%">
	<tr>
		<td width="45%">Volume MT: <br></td>
		<td><input type="text" id="Volume" value="0.000"><br></td>
	</tr>
	<tr>
		<td>Density@15°C in vac. : <br></td>
		<td><input type="text" id="Density" value="0.8395"><br></td>
	</tr>
	<tr>
		<td>Unit of Tempurature : <br></td>
		<td>
			<select onchange="selectTemp()" id="TempUnit">
  			<option value="F">Fahrenheit °F</option>
			<option selected value="C">Celsius °C</option>
			</select><br>
		</td>
	</tr>
	<tr>
		<td>Temp °<Label id="LbTemp">C</Label> : <br></td>
		<td><input type="text" id="ShowTemp" value="30.0"><input type="hidden" id="Temp" value="30.0"><br></td>
	</tr>
	<tr>
		<td><br></td>
		<td><br></td>
	</tr>
	<tr>
		<td><button onclick="myFunction()">Calculate</button><br></td>
		<td><br></td>
	</tr>
</table>
<br>
<br>

<table id="TBShow" width="98%">
	<tr>
		<td width="45%">Volume MT: <br></td>
		<td><b><label id="LBVolume"></label></b><br></td>
	</tr>
	<tr>
		<td>Density@15°C in vac. : <br></td>
		<td><b><label id="LBDen"></label></b><br></td>
	</tr>
	<tr>
		<td>Vol@15°C (Litres) : <br></td>
		<td><b><label id="LBVolLitres"></label></b><br></td>
	</tr>
	<tr>
		<td Colspan="2"><br></td>
	</tr>
	<tr id="TDShow">
		<td Colspan="2">Table 54A<br></td>
	</tr>
	<tr>
		<td>WCF (T-56)Kg/litres in Air : <br></td>
		<td><b><label id="LB54A_WCF"></label></b><br></td>
	</tr>
	<tr>
		<td>VCF to <b><Label id="Lb54A_VCFTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54A_VCF"></label></b><br></td>
	</tr>
	<tr>
		<td>Lites@ <b><Label id="Lb54A_LitresTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54A_Litres"></label></b><br></td>
	</tr>
	<tr>
		<td Colspan="2"><br></td>
	</tr>
	<tr id="TDShow">
		<td Colspan="2">Table 54B<br></td>
	</tr>
	<tr>
		<td>WCF (T-56)Kg/litres in Air : <br></td>
		<td><b><label id="LB54B_WCF"></label></b><br></td>
	</tr>
	<tr>
		<td>VCF to <b><Label id="Lb54B_VCFTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54B_VCF"></label></b><br></td>
	</tr>
	<tr>
		<td>Lites@ <b><Label id="Lb54B_LitresTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54B_Litres"></label></b><br></td>
	</tr>
	<tr>
		<td Colspan="2"><br></td>
	</tr>
	<tr id="TDShow">
		<td Colspan="2">Table 54D<br></td>
	</tr>
	<tr>
		<td>WCF (T-56)Kg/litres in Air : <br></td>
		<td><b><label id="LB54D_WCF"></label></b><br></td>
	</tr>
	<tr>
		<td>VCF to <b><Label id="Lb54D_VCFTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54D_VCF"></label></b><br></td>
	</tr>
	<tr>
		<td>Lites@ <b><Label id="Lb54D_LitresTemp">30</label></b>°C : <br></td>
		<td><b><label id="LB54D_Litres"></label></b><br></td>
	</tr>
</table>

<p id="ShowData"></p>

<script>
function ScreenWidth(){
	var w = screen.width;
	var h = screen.height;

	document.getElementById("MyBody").style.width = w+"px";

	return(w);
}

function Round(num, decimalPlaces = 0) {
    num = Math.round(num + "e" + decimalPlaces);
    return Number(num + "e" + -decimalPlaces);
}

function myFunction() {
  document.getElementById("Temp").value=Number(document.getElementById("ShowTemp").value);
  if (document.getElementById("TempUnit").value=="F"){
	document.getElementById("Temp").value=ConverseUnitTemp(Number(document.getElementById("ShowTemp").value),"C");	
  }

  var TmpVol="";
  var TmpDen="";
  var TmpVolLitres="";
  var TmpTemp="";
  var TmpWCF = "";
  var TmpVCF54A = "";
  var TmpVCF54B = "";
  var TmpVCF54D = "";
  var TmpLitres54A = "";
  var TmpLitres54B = "";
  var TmpLitres54D = "";

  var TmpVCF = "";
  var TmpLites = "";

  TmpVol= Number(document.getElementById("Volume").value);    
  TmpDen=Round(Number(document.getElementById("Density").value),4);
  TmpVolLitres=Round((Number(TmpVol)/(Number(TmpDen)-0.0011)*1000),1);
  TmpTemp=document.getElementById("Temp").value;
  TmpWCF = Round((Number(document.getElementById("Density").value)-0.0011),4);
  
  TmpVCF54A=Round(VCF_54A(),5);  
  TmpVCF54A=Round(TmpVCF54A,4);
  TmpLitres54A=Round((Number(TmpVol)/Number(TmpWCF)/Number(TmpVCF54A)*1000),0).toLocaleString();
  
  TmpVCF54B=Round(VCF_54B(),5);  
  TmpVCF54B=Round(TmpVCF54B,4);
  TmpLitres54B=Round((Number(TmpVol)/Number(TmpWCF)/Number(TmpVCF54B)*1000),0).toLocaleString();

  TmpVCF54D=Round(VCF_54D(),5);  
  TmpVCF54D=Round(TmpVCF54D,4);
  TmpLitres54D=Round((Number(TmpVol)/Number(TmpWCF)/Number(TmpVCF54D)*1000),0).toLocaleString();

	//alert(TmpLitres54D);
  //TmpVCF = VCF_54D();
  //TmpLites = Round(Number(document.getElementById("Volume").value)/TmpWCF/TmpVCF*1000,0).toLocaleString();

  document.getElementById("LBVolume").innerHTML = TmpVol.toFixed(3);
  document.getElementById("LBDen").innerHTML = TmpDen.toFixed(4);
  document.getElementById("LBVolLitres").innerHTML = Number(TmpVolLitres.toFixed(0)).toLocaleString();

  
  document.getElementById("Lb54A_VCFTemp").innerHTML = TmpTemp;
  document.getElementById("Lb54A_LitresTemp").innerHTML = TmpTemp;
  document.getElementById("Lb54B_VCFTemp").innerHTML = TmpTemp;
  document.getElementById("Lb54B_LitresTemp").innerHTML = TmpTemp;
  document.getElementById("Lb54D_VCFTemp").innerHTML = TmpTemp;
  document.getElementById("Lb54D_LitresTemp").innerHTML = TmpTemp;

  document.getElementById("LB54A_WCF").innerHTML = TmpWCF.toFixed(4);
  document.getElementById("LB54A_VCF").innerHTML = TmpVCF54A.toFixed(4);
  document.getElementById("LB54A_Litres").innerHTML = TmpLitres54A;

  document.getElementById("LB54B_WCF").innerHTML = TmpWCF.toFixed(4);
  document.getElementById("LB54B_VCF").innerHTML = TmpVCF54B.toFixed(4);
  document.getElementById("LB54B_Litres").innerHTML = TmpLitres54B;

  document.getElementById("LB54D_WCF").innerHTML = TmpWCF.toFixed(4);
  document.getElementById("LB54D_VCF").innerHTML = TmpVCF54D.toFixed(4);
  document.getElementById("LB54D_Litres").innerHTML = TmpLitres54D;

//  var x = "Metric Tons : " + document.getElementById("Volume").value+"<br>";
//  x=x+"<br>";
//  x=x+"54D<br>";
//  x=x+"Density@15°C : "+ Round(Number(document.getElementById("Density").value),4) +"<br>";
//  x=x+"WCF : " + TmpWCF +"<br>";
//  x=x+"VCF to " + Round(Number(document.getElementById("Temp").value),1) + "°C : " + TmpVCF+"<br>";
//  x=x+"Lites@ " + Round(Number(document.getElementById("Temp").value),1) + "°C : " + TmpLites+"<br>";
//  document.getElementById("ShowData").innerHTML = x;
}

function selectTemp() {
  var x = document.getElementById("TempUnit").value;
  if (x=="F"){
	
  }
  else if (x=="C"){

  }
  document.getElementById("ShowTemp").value=ConverseUnitTemp(document.getElementById("Temp").value,x);
  document.getElementById("LbTemp").innerHTML = x;
}

function ConverseUnitTemp(TmpTemp,TmpUnit){
	var TmpReturn1=TmpTemp;
	if (TmpUnit=="F"){
		TmpReturn1= Round((Number(TmpTemp)*9/5)+32,1).toString();

	}
	else if (TmpUnit=="C"){
		TmpReturn1= Round((Number(TmpTemp)-32)*5/9,1).toString();
	}
	return(TmpReturn1);
}


function VCF_54A(){
  var TempVCF_54A=0;
  var TmpDen=Number(document.getElementById("Density").value);
  var TmpTempC=Number(document.getElementById("Temp").value);
  if (TmpDen>0){
	//=ROUND(EXP(-((613.97226+(0*(B2*1000)))/((B2*1000)^2))*(D3-15)*(1+(0.8*((613.97226+(0*(B2*1000)))/((B2*1000)^2))*(D3-15)))),4)
	TempVCF_54A = Round(Math.E**((-((613.97226+(0*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15)*(1+(0.8*((613.97226+(0*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15))))),6);
	
  }
  return(TempVCF_54A);
}

function VCF_54B(){
  var TempVCF_54B=0;
  var TmpDen=Number(document.getElementById("Density").value);
  var TmpTempC=Number(document.getElementById("Temp").value);
  if (TmpDen>0){
	if (TmpDen<0.770){
		//=ROUND(EXP(-((346.42278+(0.43884*(B2*1000)))/((B2*1000)^2))*(D3-15)*(1+(0.8*((346.42278+(0.43884*(B2*1000)))/((B2*1000)^2))*(D3-15)))),5)
		TempVCF_54B = Round(Math.E**((-((346.42278+(0.43884*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15)*(1+(0.8*((346.42278+(0.43884*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15))))),6);		
	}
	else{
		if (TmpDen<0.778){
			//=ROUND(EXP((-(-0.00336312+(2680.3206/((B2*1000)^2)))*(D3-15)*(1+(0.8*(-0.00336312+(2680.3206/((B2*1000)^2)))*(D3-15))))),5)
			TempVCF_54B = Round(Math.E**((-(-0.00336312+(2680.3206/((TmpDen*1000)**2)))*(TmpTempC-15)*(1+(0.8*(-0.00336312+(2680.3206/((TmpDen*1000)**2)))*(TmpTempC-15))))),6);
		}
		else{
			if (TmpDen<0.839){
				//=ROUND(EXP(-((594.5418+(0*(B2*1000)))/(B2*1000)^2)*(D3-15)*(1+(0.8*((594.5418+(0*(B2*1000)))/(B2*1000)^2)*(D3-15)))),5)
				TempVCF_54B = Round(Math.E**((-((346.42278+(0.43884*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15)*(1+(0.8*((346.42278+(0.43884*(TmpDen*1000)))/((TmpDen*1000)**2))*(TmpTempC-15))))),6);		
			}
			else{
				//=ROUND(EXP(-((186.9696+(0.48618*(B2*1000)))/(B2*1000)^2)*(D3-15)*(1+(0.8*((186.9696+(0.48618*(B2*1000)))/(B2*1000)^2)*(D3-15)))),5)
				TempVCF_54B = Round(Math.E**(-((186.9696+(0.48618*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15)*(1+(0.8*((186.9696+(0.48618*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15)))),7);		
			}
		}	
	}	
  }
  return(TempVCF_54B);
}

function VCF_54D(){
  var TempVCF_54D=0;
  var TmpDen=Number(document.getElementById("Density").value);
  //document.getElementById("Temp").value=Number(document.getElementById("ShowTemp").value);
  //if (document.getElementById("TempUnit").value=="F"){
//	document.getElementById("Temp").value=ConverseUnitTemp(Number(document.getElementById("ShowTemp").value),"C");	
//  }
  var TmpTempC=Number(document.getElementById("Temp").value);
	//alert(TmpDen+ " "+TmpTempC);
  if (TmpDen>0){
	//TempVCF_54D = -((0+(0.6278*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15)*(1+(0.8*((0+(0.6278*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15))));
	TempVCF_54D = Round(Math.E**((-((0+(0.6278*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15)*(1+(0.8*((0+(0.6278*(TmpDen*1000)))/(TmpDen*1000)**2)*(TmpTempC-15))))),6);
	
  }
   	//alert("VCF 54D "+TempVCF_54D);
  return(TempVCF_54D);
}

</script>


</body>
</html>
